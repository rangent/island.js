<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Map</title>
        
        <link href="css/map.css" rel="stylesheet">

        <script type="text/javascript" src="js/rhill-voronoi-core.min.js"></script>
        <script type="text/javascript" src="js/paper.js"></script>
        <script type="text/javascript" src="js/Simplex.js"></script>
        <script type="text/javascript" src="js/perlin.js"></script>
        <script type="text/javascript" src="js/Island.js"></script>
	</head>

	<body>
        <canvas id="island" resize="true"></canvas>
        <canvas id="perlin" hidden="true"></canvas>
	<!-- BE NOTES:
	Island.diagram.cells is yummy
	getElevation() has command that controls elevation (more land vs. water)
	
	Set a breakpoint at paper.js @ 10490, on click:
	Island.diagram.cells[event.clientX + event.clientY * 200]; -> gives you the cell clicked
	-->
        
        <script type="application/javascript">
            paper.install(window);
            window.onload = function(e) {
                paper.setup('island');

                var islandCanvas = document.getElementById('island');
                var perlinCanvas = document.getElementById('perlin');

                //islandCanvas.onclick = function() {
                //    Island.toggleDebug();
                //    perlinCanvas.style.display = (perlinCanvas.style.display == 'block' ? 'none' : 'block');
                //};

		
                //Island.init();
		Island.init({
			width: 100-1, //BE: SHOULD BE SQRT(NBSITES) - 1
			height: 100-1, //BE: SHOULD BE SQRT(NBSITES) - 1
			perlinWidth: 200,
			perlinHeight: 200,
			allowDebug: false, // if set to true, you can click on the map to enter "debug" mode. Warning : debug mode is slow to initialize, set to false for faster rendering.
			nbSites: 10000, // BE: SHOULD BE WIDTH * HEIGHT numbers of voronoi cell
			sitesDistribution: 'square', // distribution of the site of the voronoi graph : random, square or hexagon
			sitesRandomisation: 0, // BE: KEEP THIS 0, will move each site in a random way (in %), for the square or hexagon distribution to look more random
			nbGraphRelaxation: 0.0, // nb of time we apply the relaxation algo to the voronoi graph (slow !), for the random distribution to look less random
			cliffsThreshold: 0.1,
			lakesThreshold: 0.005, // lake elevation will increase by this value (* the river size) when a new river end inside
			nbRivers: (10000 / 200),
			maxRiversSize: 1,
			shading: 0.00,
			shadeOcean: true
		    });
            };
        </script>
        <noscript>You need to enable Javascript in your browser for this page to display properly.</noscript>
	</body>
</html>